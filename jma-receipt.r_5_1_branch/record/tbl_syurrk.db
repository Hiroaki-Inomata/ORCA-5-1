tbl_syurrk {
	HOSPNUM						number(2,0);
	PTID							number(10,0);
	NYUGAIKBN					char(1);
	DENPNUM						number(7,0);
	SYURRKNUM					number(2,0);
	SYUEDANUM					number(2,0);
	JOUTAIKBN					char(1);
	SRYKA							char(2);
	HKNCOMBINUM				char(4);
	SSU_HKNTEN				number(7,0);
	SSU_MONEY					number(7,0);
	SSU_TGMONEY				number(7,0);
	SSU_TGMONEY_TAX		number(7,0);
	SDO_HKNTEN				number(7,0);
	SDO_MONEY					number(7,0);
	SDO_TGMONEY				number(7,0);
	SDO_TGMONEY_TAX		number(7,0);
	ZTK_HKNTEN				number(7,0);
	ZTK_MONEY					number(7,0);
	ZTK_TGMONEY				number(7,0);
	ZTK_TGMONEY_TAX		number(7,0);
	TYK_HKNTEN				number(7,0);
	TYK_MONEY					number(7,0);
	TYK_TGMONEY				number(7,0);
	TYK_TGMONEY_TAX		number(7,0);
	CSY_HKNTEN				number(7,0);
	CSY_MONEY					number(7,0);
	CSY_TGMONEY				number(7,0);
	CSY_TGMONEY_TAX		number(7,0);
	SYC_HKNTEN				number(7,0);
	SYC_MONEY					number(7,0);
	SYC_TGMONEY				number(7,0);
	SYC_TGMONEY_TAX		number(7,0);
	SJT_HKNTEN				number(7,0);
	SJT_MONEY					number(7,0);
	SJT_TGMONEY				number(7,0);
	SJT_TGMONEY_TAX		number(7,0);
	MSI_HKNTEN				number(7,0);
	MSI_MONEY					number(7,0);
	MSI_TGMONEY				number(7,0);
	MSI_TGMONEY_TAX		number(7,0);
	KNS_HKNTEN				number(7,0);
	KNS_MONEY					number(7,0);
	KNS_TGMONEY				number(7,0);
	KNS_TGMONEY_TAX		number(7,0);
	GZU_HKNTEN				number(7,0);
	GZU_MONEY					number(7,0);
	GZU_TGMONEY				number(7,0);
	GZU_TGMONEY_TAX		number(7,0);
	ETC_HKNTEN				number(7,0);
	ETC_MONEY					number(7,0);
	ETC_TGMONEY				number(7,0);
	ETC_TGMONEY_TAX		number(7,0);
	SSN_HKNTEN				number(7,0);
	SSN_MONEY					number(7,0);
	SSN_TGMONEY				number(7,0);
	SSN_TGMONEY_TAX		number(7,0);
	HOU_HKNTEN				number(7,0);
	HOU_MONEY					number(7,0);
	HOU_TGMONEY				number(7,0);
	HOU_TGMONEY_TAX		number(7,0);
	BYR_HKNTEN				number(7,0);
	BYR_MONEY					number(7,0);
	BYR_TGMONEY				number(7,0);
	BYR_TGMONEY_TAX		number(7,0);
	NYN_HKNTEN				number(7,0);
	NYN_MONEY					number(7,0);
	NYN_TGMONEY				number(7,0);
	NYN_TGMONEY_TAX		number(7,0);
	RYO_HKNTEN				number(7,0);
	RYO_MONEY					number(7,0);
	RYO_TGMONEY				number(7,0);
	RYO_TGMONEY_TAX		number(7,0);
	TOTAL_HKNTEN			number(7,0);
	TOTAL_MONEY				number(7,0);
	TOTAL_TGMONEY			number(7,0);
	TOTAL_TGMONEY_TAX	number(7,0);
	SHOHOU_SAI				number(7,0);
	TGMONEY_TAX_SAI		number(7,0);
	JIHI_1  					number(7,0);
	JIHI_1_TAX 				number(7,0);
	JIHI_2  					number(7,0);
	JIHI_2_TAX 				number(7,0);
	JIHI_3  					number(7,0);
	JIHI_3_TAX 				number(7,0);
	JIHI_4  					number(7,0);
	JIHI_4_TAX 				number(7,0);
	JIHI_5  					number(7,0);
	JIHI_5_TAX 				number(7,0);
	JIHI_6  					number(7,0);
	JIHI_6_TAX 				number(7,0);
	JIHI_7  					number(7,0);
	JIHI_7_TAX 				number(7,0);
	JIHI_8  					number(7,0);
	JIHI_8_TAX 				number(7,0);
	JIHI_9  					number(7,0);
	JIHI_9_TAX 				number(7,0);
	JIHI_10  					number(7,0);
	JIHI_10_TAX 			number(7,0);
	JIHI_TOTAL  			number(7,0);
	JIHI_TOTAL_TAX 		number(7,0);
	JIHI_TAX  				number(7,0);
	RJN_FTN 					number(7,0);
	KOH_FTN						number(7,0);
	YKZ_FTN 					number(7,0);
	CHOSEI  					number(7,0);
	CHOSEI1  					number(7,0);
	CHOSEI2  					number(7,0);
	HKNTEKMONEY				number(7,0);
	DISCOUNT_KBN			char(2);
	DISCOUNT_MONEY		number(7,0);
	RSISHOSHIN_MONEY	number(7,0);
	RSISAISHIN_MONEY	number(7,0);
	RSISDO_MONEY	    number(7,0);
	RSIETC_MONEY		  number(7,0);
	RSI_TAX_SAI				number(7,0);
	RSI_TOTAL						number(7,0);
	RSIJIBAI_SKYMONEY		number(7,0);
	SKYMONEY_TAX_SAI		number(7,0);
	SKYMONEY						number(7,0);
	RMSAGAKU  					number(7,0);
	RMSAGAKU_TAX_SAI		number(7,0);
	RYOYOHI_SKJ					number(7,0);
	SKYMONEY_SKJ				number(7,0);
	SKYMONEY_SKJ_TAX		number(7,0);
	SKYMONEY_SKJ_KEI		number(7,0);
	RYOYOHI_SKJ_JIHI		number(7,0);
	SKYMONEY_SKJ_JIHI			number(7,0);
	SKYMONEY_SKJ_JIHI_TAX	number(7,0);
	SKYMONEY_SKJ_JIHI_KEI	number(7,0);
	RYOYOHI_LIFE					number(7,0);
	SKYMONEY_LIFE					number(7,0);
	SKYMONEY_LIFE_TAX			number(7,0);
	SKYMONEY_LIFE_KEI			number(7,0);
	RYOYOHI_LIFE_JIHI			number(7,0);
	SKYMONEY_LIFE_JIHI		number(7,0);
	SKYMONEY_LIFE_JIHI_TAX	number(7,0);
	SKYMONEY_LIFE_JIHI_KEI	number(7,0);
	TERMID  			varchar(16);
	OPID    			varchar(16);
	CREYMD  			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
};
primary	{
	HOSPNUM,PTID,NYUGAIKBN,DENPNUM,SYURRKNUM,SYUEDANUM;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_syurrk_key_csr CURSOR FOR
		SELECT *
		FROM tbl_syurrk
			WHERE   HOSPNUM   =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   DENPNUM     =   :DENPNUM
			AND   SYURRKNUM   =   :SYURRKNUM
			AND   SYUEDANUM   =   :SYUEDANUM
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_syurrk_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_syurrk
			WHERE   HOSPNUM   =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   DENPNUM     =   :DENPNUM
			ORDER BY SYURRKNUM DESC,SYUEDANUM DESC
		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_syurrk
			WHERE   HOSPNUM       =  :HOSPNUM
			AND   PTID            =  :PTID
			AND   NYUGAIKBN       =  :NYUGAIKBN
			AND   DENPNUM         =  :DENPNUM
		;
	};
};

path	key3 	{
	DBSELECT	{
		DECLARE tbl_syurrk_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_syurrk
			WHERE   HOSPNUM   =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   DENPNUM     =   :DENPNUM
			AND   SYURRKNUM   =   :SYURRKNUM
			ORDER BY SYUEDANUM DESC
		;
	};
};

path	upd1 	{
	DBUPDATE	{
		UPDATE tbl_syurrk
		SET  CHOSEI   = tbl_syurrk.CHOSEI   + :CHOSEI  * -1,
		     CHOSEI1  = tbl_syurrk.CHOSEI1  + :CHOSEI1 * -1,
		     CHOSEI2  = tbl_syurrk.CHOSEI2  + :CHOSEI2 * -1,
				 SKYMONEY = tbl_syurrk.SKYMONEY + :SKYMONEY * -1,
				 CREYMD   = :CREYMD,
				 UPYMD    = :UPYMD,
				 UPHMS    = :UPHMS
		FROM tbl_syumei b
			WHERE tbl_syurrk.HOSPNUM     =   :HOSPNUM
			AND   tbl_syurrk.PTID        =   :PTID
			AND   tbl_syurrk.NYUGAIKBN   =   :NYUGAIKBN
			AND   tbl_syurrk.DENPNUM     =   :DENPNUM
			AND		tbl_syurrk.SYURRKNUM  >=   :SYURRKNUM
			AND   tbl_syurrk.SYUEDANUM   =   1
			AND		b.HOSPNUM =   tbl_syurrk.HOSPNUM
			AND   b.NYUGAIKBN   =   tbl_syurrk.NYUGAIKBN
			AND   b.PTID        =   tbl_syurrk.PTID
			AND   b.DENPNUM     =   tbl_syurrk.DENPNUM
			AND		b.SYURRKNUM   =   tbl_syurrk.SYURRKNUM
			AND   b.SYURRKUPDKBN   =   '1'
		;
	};
};

path	upd2 	{
	DBUPDATE	{
		UPDATE tbl_syurrk
		SET  CHOSEI   = tbl_syurrk.CHOSEI   + :CHOSEI,
                     CHOSEI1  = tbl_syurrk.CHOSEI1  + :CHOSEI1,
                     CHOSEI2  = tbl_syurrk.CHOSEI2  + :CHOSEI2,
				 SKYMONEY = tbl_syurrk.SKYMONEY + :SKYMONEY,
				 CREYMD   = :CREYMD,
				 UPYMD    = :UPYMD,
				 UPHMS    = :UPHMS
		FROM tbl_syumei b
			WHERE tbl_syurrk.HOSPNUM     =   :HOSPNUM
			AND   tbl_syurrk.PTID        =   :PTID
			AND   tbl_syurrk.NYUGAIKBN   =   :NYUGAIKBN
			AND   tbl_syurrk.DENPNUM     =   :DENPNUM
			AND		tbl_syurrk.SYURRKNUM  >=   :SYURRKNUM
			AND   tbl_syurrk.SYUEDANUM   =   2
			AND		b.HOSPNUM =   tbl_syurrk.HOSPNUM
			AND   b.NYUGAIKBN   =   tbl_syurrk.NYUGAIKBN
			AND   b.PTID        =   tbl_syurrk.PTID
			AND   b.DENPNUM     =   tbl_syurrk.DENPNUM
			AND		b.SYURRKNUM   =   tbl_syurrk.SYURRKNUM
			AND   b.SYURRKUPDKBN   =   '1'
		;
	};
};

path	upd3 	{
	DBUPDATE	{
		UPDATE tbl_syurrk
		SET  CHOSEI   = CHOSEI   + :CHOSEI,
                     CHOSEI1  = CHOSEI1  + :CHOSEI1,  
                     CHOSEI2  = CHOSEI2  + :CHOSEI2,
				 SKYMONEY = SKYMONEY + :SKYMONEY,
				 CREYMD   = :CREYMD,
				 UPYMD    = :UPYMD,
				 UPHMS    = :UPHMS
		WHERE HOSPNUM     =   :HOSPNUM
		AND   PTID        =   :PTID
		AND   NYUGAIKBN   =   :NYUGAIKBN
		AND   DENPNUM     =   :DENPNUM
		AND		SYURRKNUM   =   :SYURRKNUM
		AND   SYUEDANUM   =   :SYUEDANUM
		;
	};
};

path	del2 	{
	DBDELETE	{
		DELETE
		FROM tbl_syurrk
			WHERE   HOSPNUM       =  :HOSPNUM
			AND   PTID            =  :PTID
		;
	};
};

path	all	{
	DBSELECT	{
		DECLARE tbl_syurrk_all_csr CURSOR FOR
		SELECT *
		FROM tbl_syurrk
			WHERE   HOSPNUM   =   :HOSPNUM
		;
	};
};
