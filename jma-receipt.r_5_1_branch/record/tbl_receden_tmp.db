tbl_receden_tmp {
HOSPNUM			number(2,0);
SRYYM			number(6);
NYUGAIKBN		varchar(1);
PTID			number(10);
RECEKA			varchar(2);
TEISYUTUSAKI		number(1,0);
RECESYUBETU		varchar(4);
HKNJANUM		varchar(8);
HOJOKBN_KEY		varchar(1);
KOHID_KEY       	number(10);
TEKSTYMD		varchar(8);
RECEIPT_KBN		varchar(10);
RECKBN			varchar(1);
RENNUM			number(4);
CREYMD			varchar(8);
CREHMS			varchar(6);
TOTALTEN		number(10);
SJKBN			varchar(2);
RECEDATA		varchar(2500);
};

primary	{
	HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,KOHID_KEY,TEKSTYMD,RECEIPT_KBN,RECKBN,RENNUM;
};

path	key		{ 	
	DBSELECT	{
		DECLARE tbl_receden_tmp_key_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
		WHERE	HOSPNUM		=	:HOSPNUM
		  AND	SRYYM		=	:SRYYM
		  AND	NYUGAIKBN	=	:NYUGAIKBN
		  AND	PTID		=	:PTID
		  AND	RECEKA		=	:RECEKA
		  AND	TEISYUTUSAKI	=	:TEISYUTUSAKI
		  AND	RECESYUBETU	=	:RECESYUBETU
		  AND	HKNJANUM	=	:HKNJANUM
		  AND	HOJOKBN_KEY	=	:HOJOKBN_KEY
		  AND   KOHID_KEY	=	:KOHID_KEY 
		  AND	TEKSTYMD	=	:TEKSTYMD
		  AND   RECEIPT_KBN	=	:RECEIPT_KBN
		  AND	RECKBN		=	:RECKBN
		  AND   RENNUM		=	:RENNUM
		;
	};
};

path	key2	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
		WHERE	HOSPNUM		=	:HOSPNUM
		  AND	SRYYM		=	:SRYYM
		  AND	NYUGAIKBN	=	:NYUGAIKBN
		  AND	TEISYUTUSAKI	=	:TEISYUTUSAKI
		  AND	RECKBN	        <>	'2'
		  ORDER  BY  HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,KOHID_KEY,TEKSTYMD,RECEIPT_KBN,RENNUM
		;
	};
};

path	key3	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
		WHERE	HOSPNUM		=	:HOSPNUM
		  AND	SRYYM		=	:SRYYM
		  AND	NYUGAIKBN	=	:NYUGAIKBN
		  AND	PTID		=	:PTID
		  AND	RECEKA		=	:RECEKA
		  AND	TEISYUTUSAKI	=	:TEISYUTUSAKI
		  AND	RECESYUBETU	=	:RECESYUBETU
		  AND	HKNJANUM	=	:HKNJANUM
		  AND	HOJOKBN_KEY	=	:HOJOKBN_KEY
		  AND   KOHID_KEY	=	:KOHID_KEY 
		  AND	TEKSTYMD	=	:TEKSTYMD
		  AND   RECEIPT_KBN	=	:RECEIPT_KBN
		  AND	RECKBN	        <>	'2'
		  ORDER  BY  RENNUM
		;
	};
};

path	key4	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
		WHERE	HOSPNUM		=	:HOSPNUM
		  AND	SRYYM		=	:SRYYM
		  AND	NYUGAIKBN	=	:NYUGAIKBN
		  AND	PTID		=	:PTID
		  AND	TEISYUTUSAKI	=	1
		  AND	RECKBN	        <>	'2'
		  ORDER  BY  HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,KOHID_KEY,TEKSTYMD,RECEIPT_KBN
		;
	};
};

path	key5	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
		WHERE	HOSPNUM		=	:HOSPNUM
		  AND	SRYYM		=	:SRYYM
		  AND	NYUGAIKBN	=	:NYUGAIKBN
		  AND	PTID		=	:PTID
		  AND	TEISYUTUSAKI	<>	1
		  AND	RECKBN	        <>	'2'
		  ORDER  BY  HOSPNUM,SRYYM,NYUGAIKBN,PTID,RECEKA,TEISYUTUSAKI,RECESYUBETU,HKNJANUM,HOJOKBN_KEY,KOHID_KEY,TEKSTYMD,RECEIPT_KBN
		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_receden_tmp
                WHERE   HOSPNUM      =   :HOSPNUM
                  AND   NYUGAIKBN    =   :NYUGAIKBN
		;
	};
};

path	del2 	{
	DBDELETE	{
		DELETE
		FROM tbl_receden_tmp
                WHERE   HOSPNUM     =   :HOSPNUM
                  AND   SRYYM       =   :SRYYM
                  AND   NYUGAIKBN   =   :NYUGAIKBN
                  AND   PTID        =   :PTID
		;
	};
};

path	del3 	{
	DBDELETE	{
		DELETE
		FROM tbl_receden_tmp
                WHERE   HOSPNUM     =   :HOSPNUM
                  AND   PTID        =   :PTID
		;
	};
};

path	all	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_all_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
                WHERE   HOSPNUM      =   :HOSPNUM
		;
	};
};

path	all2	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_all2_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
                WHERE   HOSPNUM		= :HOSPNUM
                  AND   SRYYM		= :SRYYM
		  AND	NYUGAIKBN    LIKE :NYUGAIKBN
		  AND	TEISYUTUSAKI	= :TEISYUTUSAKI
		;
	};
};

path	all3	{
	DBSELECT	{
		DECLARE tbl_receden_tmp_all3_csr CURSOR FOR
		SELECT *
		FROM tbl_receden_tmp
                WHERE   HOSPNUM		= :HOSPNUM
                  AND   SRYYM		= :SRYYM
		  AND	NYUGAIKBN    LIKE :NYUGAIKBN
		  AND	(TEISYUTUSAKI	= 2
		  OR	TEISYUTUSAKI	= 6)
		;
	};
};
