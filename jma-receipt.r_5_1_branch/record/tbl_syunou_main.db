tbl_syunou_main {
	HOSPNUM				number(2,0);
	NYUGAIKBN			char(1);
	PTID				number(10,0);
	DENPNUM          		number(7,0);
	DENPLASTNUM			number(2,0);
	SRYKA				char(2);
	SRYYMD                          char(8);
	DENPJTIKBN			char(1);
	CREATEKBN			char(1);
	DENPPRTYMD			char(8);
	SKYSTYMD			char(8);
	SKYEDYMD			char(8);
	HKNCOMBINUM			char(4);
	SYUHKNNUM			char(3);
	SYUHKNFTNMONEY                  number(7,0);
	SYUCOMPFTN                      number(7,0);
	SYUCOMPFTN_ENTANI               number(8,1);
	SYUCOMPYKZFTN                   number(7,0);
	SYUCOMPTOTAL                    number(7,0);
	SYUYKZFTNKBN			char(1);
	KOH1HKNNUM			char(3);
	KOH1HKNFTNMONEY                 number(7,0);
	KOH1COMPFTN                     number(7,0);
	KOH1COMPFTN_ENTANI              number(8,1);
	KOH1COMPYKZFTN                  number(7,0);
	KOH1COMPTOTAL                   number(7,0);
	KOH1YKZFTNKBN			char(1);
	KOH2HKNNUM			char(3);
	KOH2HKNFTNMONEY                 number(7,0);
	KOH2COMPFTN                     number(7,0);
	KOH2COMPFTN_ENTANI              number(8,1);
	KOH2COMPYKZFTN                  number(7,0);
	KOH2COMPTOTAL                   number(7,0);
	KOH2YKZFTNKBN			char(1);
	KOH3HKNNUM			char(3);
	KOH3HKNFTNMONEY                 number(7,0);
	KOH3COMPFTN                     number(7,0);
	KOH3COMPFTN_ENTANI              number(8,1);
	KOH3COMPYKZFTN                  number(7,0);
	KOH3COMPTOTAL                   number(7,0);
	KOH3YKZFTNKBN			char(1);
	KOH4HKNNUM			char(3);
	KOH4HKNFTNMONEY                 number(7,0);
	KOH4COMPFTN                     number(7,0);
	KOH4COMPFTN_ENTANI              number(8,1);
	KOH4COMPYKZFTN                  number(7,0);
	KOH4COMPTOTAL                   number(7,0);
	KOH4YKZFTNKBN			char(1);
	PTFTNRATE			number(3,0);
	SKYKUKBN			char(1);
	TAX_TAISHOU			number(7,0);
	TAX_MONEY			number(7,0);
	SKYGK				number(7,0);
	SSU_HKNTEN			number(7,0);
	SSU_MONEY			number(7,0);
	SSU_TGMONEY			number(7,0);
	SSU_TGMONEY_TAX		number(7,0);
	SDO_HKNTEN			number(7,0);
	SDO_MONEY			number(7,0);
	SDO_TGMONEY			number(7,0);
	SDO_TGMONEY_TAX		number(7,0);
	ZTK_HKNTEN			number(7,0);
	ZTK_MONEY			number(7,0);
	ZTK_TGMONEY			number(7,0);
	ZTK_TGMONEY_TAX		number(7,0);
	TYK_HKNTEN			number(7,0);
	TYK_MONEY			number(7,0);
	TYK_TGMONEY			number(7,0);
	TYK_TGMONEY_TAX		number(7,0);
	CSY_HKNTEN			number(7,0);
	CSY_MONEY			number(7,0);
	CSY_TGMONEY			number(7,0);
	CSY_TGMONEY_TAX		number(7,0);
	SYC_HKNTEN			number(7,0);
	SYC_MONEY			number(7,0);
	SYC_TGMONEY			number(7,0);
	SYC_TGMONEY_TAX		number(7,0);
	SJT_HKNTEN			number(7,0);
	SJT_MONEY			number(7,0);
	SJT_TGMONEY			number(7,0);
	SJT_TGMONEY_TAX		number(7,0);
	MSI_HKNTEN			number(7,0);
	MSI_MONEY			number(7,0);
	MSI_TGMONEY			number(7,0);
	MSI_TGMONEY_TAX		number(7,0);
	KNS_HKNTEN			number(7,0);
	KNS_MONEY			number(7,0);
	KNS_TGMONEY			number(7,0);
	KNS_TGMONEY_TAX		number(7,0);
	GZU_HKNTEN			number(7,0);
	GZU_MONEY			number(7,0);
	GZU_TGMONEY			number(7,0);
	GZU_TGMONEY_TAX		number(7,0);
	ETC_HKNTEN			number(7,0);
	ETC_MONEY			number(7,0);
	ETC_TGMONEY			number(7,0);
	ETC_TGMONEY_TAX		number(7,0);
	SSN_HKNTEN			number(7,0);
	SSN_MONEY			number(7,0);
	SSN_TGMONEY			number(7,0);
	SSN_TGMONEY_TAX		number(7,0);
	HOU_HKNTEN			number(7,0);
	HOU_MONEY			number(7,0);
	HOU_TGMONEY			number(7,0);
	HOU_TGMONEY_TAX		number(7,0);
	BYR_HKNTEN			number(7,0);
	BYR_MONEY			number(7,0);
	BYR_TGMONEY			number(7,0);
	BYR_TGMONEY_TAX		number(7,0);
	NYN_HKNTEN			number(7,0);
	NYN_MONEY			number(7,0);
	NYN_TGMONEY			number(7,0);
	NYN_TGMONEY_TAX		number(7,0);
	RYO_HKNTEN			number(7,0);
	RYO_MONEY			number(7,0);
	RYO_TGMONEY			number(7,0);
	RYO_TGMONEY_TAX		number(7,0);
	TOTAL_HKNTEN		number(7,0);
	TOTAL_MONEY			number(7,0);
	TOTAL_TGMONEY		number(7,0);
	TOTAL_TGMONEY_TAX	number(7,0);
	SHOHOU_SAI		number(7,0);
	TGMONEY_TAX_SAI		number(7,0);
	JIHI_1  			number(7,0);
	JIHI_1_TAX 			number(7,0);
	JIHI_2  			number(7,0);
	JIHI_2_TAX 			number(7,0);
	JIHI_3  			number(7,0);
	JIHI_3_TAX 			number(7,0);
	JIHI_4  			number(7,0);
	JIHI_4_TAX 			number(7,0);
	JIHI_5  			number(7,0);
	JIHI_5_TAX 			number(7,0);
	JIHI_6  			number(7,0);
	JIHI_6_TAX 			number(7,0);
	JIHI_7  			number(7,0);
	JIHI_7_TAX 			number(7,0);
	JIHI_8  			number(7,0);
	JIHI_8_TAX 			number(7,0);
	JIHI_9  			number(7,0);
	JIHI_9_TAX 			number(7,0);
	JIHI_10  			number(7,0);
	JIHI_10_TAX 			number(7,0);
	JIHI_TOTAL  		number(7,0);
	JIHI_TOTAL_TAX 		number(7,0);
	JIHI_TAX  			number(7,0);
	RJN_FTN 			number(7,0);
	KOH_FTN				number(7,0);
	KOH_FTN_ENTANI			number(8,1);
	YKZ_FTN 			number(7,0);
	RESE_YKZ_FTN        number(7,0);
	KOHTAIYKZKBN		char(1);
	CHOSEI  			number(7,0);
	CHOSEI1  			number(7,0);
	CHOSEI2  			number(7,0);
	GRP_DENPNUM			number(7,0);
	GRP_RENNUM			number(2,0);
	GRP_SGKMONEY			number(7,0);
	GRP_HAKHOUFLG		number(1,0);
	SECMONEY			number(7,0);
	HKNTEKMONEY			number(7,0);
	DISCOUNT_KBN			char(2);
	DISCOUNT_BODY			varchar(160);
	DISCOUNT_RATEKBN		char(2);
	DISCOUNT_TEIRITU		char(1);
	DISCOUNT_RATE			number(7,0);
	DISCOUNT_MONEY			number(7,0);
        RSISHOSHIN_MONEY		number(7,0);
        RSISAISHIN_MONEY		number(7,0);
        RSISDO_MONEY	    		number(7,0);
        RSIETC_MONEY		    	number(7,0);
	RSI_TAX_SAI			number(7,0);
	RSI_TOTAL			number(7,0);
	RSIJIBAI_SKYMONEY		number(7,0);
	SKYMONEY_TAX_SAI		number(7,0);
	SKYMONEY			number(7,0);
	NYUKIN_TOTAL   			number(7,0);
	NYUKIN_KAISU   			number(7,0);
	MISYURIYU    			char(2);
	DRCD    			char(5);
	NYNSHOKAISU  			number(2,0);
	YKZKENNUM  			number(5,0);
	SKJ_FTNGAKU1			number(5,0);
	SKJ_FTNDAY1			number(2,0);
	SKJ_FTNGAKU2			number(5,0);
	SKJ_FTNDAY2			number(2,0);
	SKJ_FTNGAKU3			number(5,0);
	SKJ_FTNDAY3			number(2,0);
	SAIKEISANKBN  			char(1);
	INGAISHOHOKBN  			char(1);
	DOUJI_DENPNUM			number(7,0);
	CONTKBN  			char(1);
        FUKU_DENPNUM                    number(7,0);
	FUKU_KBN      			char(1);
	ZAITAKU      			char(1);
        KYUFUGAI_SHOSHIN_TEN            number(7,0);
        KYUFUGAI_SIDOU_TEN              number(7,0);
        KYUFUGAI_OSIN1_TEN              number(7,0);
        KYUFUGAI_OSIN2_TEN              number(7,0);
        KYUFUGAI_OSIN3_TEN              number(7,0);
        KYUFUGAI_GOKEI_TEN              number(7,0);
	DAYINFFLG			char(1);
	BUNBENINFFLG			char(1);
	ACCT_UPDKBN			char(1);
	JYO_HKNFTNMONEY                 number(7,0);
	JYO_COMPFTN                     number(7,0);
	JYO_COMPFTN_ENTANI              number(8,1);
	SKYNYUKINKBN			char(1);
	HKNTEKKBN			char(1);
	TERMID  			varchar(16);
	OPID    			varchar(16);
	CREYMD  			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
#--
	UPSRYYMD			char(8),virtual;
        SELNYUIN_RRKNUM                 number(3,0),virtual;
        SELKOHID	                number(10,0),virtual;
	SELNYUGAIKBN			char(1),virtual;
};
primary	{
	HOSPNUM,NYUGAIKBN,PTID,DENPNUM;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   DENPNUM     =   :DENPNUM
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			ORDER   BY          DENPNUM
		;
	};
};
path	key3 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM      =   :HOSPNUM
			AND   NYUGAIKBN     =   :NYUGAIKBN
			AND   PTID          =   :PTID
			AND   DOUJI_DENPNUM =   :DOUJI_DENPNUM
			AND   CREATEKBN   <>  '3'
			ORDER   BY          DENPNUM
		;
	};
};
path	key4 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYKA       =   :SRYKA
			AND   CREATEKBN   <>  '3'
			ORDER   BY        DENPNUM
		;
	};
};

path	key5 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SKYSTYMD    >=  :SKYSTYMD
			AND   SKYEDYMD    <=  :SKYEDYMD
			AND   CREATEKBN   <>  '3'
		;
	};
};

path	key6 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY        SRYYMD DESC
		;
	};
};

path	key7 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key7_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     NYUGAIKBN    =   :NYUGAIKBN
			AND     DENPJTIKBN   =   :DENPJTIKBN
			AND     SKYSTYMD     >=  :SKYSTYMD
			AND     SKYEDYMD     <=  :SKYEDYMD
			AND     CREATEKBN   <>  '3'
		;
	};
};

path	key8 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key8_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND     NYUGAIKBN    =   :NYUGAIKBN
			AND     PTID         =   :PTID
			AND     DENPJTIKBN   =   :DENPJTIKBN
			AND     SKYSTYMD     >=  :SKYSTYMD
			AND     SKYEDYMD     <=  :SKYEDYMD
			AND     CREATEKBN   <>  '3'
			ORDER   BY     SKYEDYMD  DESC
		;
	};
};

path	key9 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key9_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SKYSTYMD    >=  :SKYSTYMD
			AND   SKYEDYMD    <=  :SKYEDYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY        SRYYMD
		;
	};
};

path	key10 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key10_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   =   '3'
			ORDER   BY          DENPNUM
		;
	};
};

path	key11 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key11_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      =   :SRYYMD
			ORDER   BY          HKNCOMBINUM
		;
	};
};

path	key12 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key12_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   FUKU_DENPNUM    =   :FUKU_DENPNUM
			ORDER   BY          FUKU_KBN
		;
	};
};

path	key13 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key13_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
                        AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY          DENPNUM
		;
	};
};


path	key14 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key14_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY          DENPNUM
		;
	};
};

path	key15 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key15_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
		;
	};
};

path	key16 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key16_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYKA       =   :SRYKA
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY        CAST(DENPNUM AS NUMERIC(7,0))
		;
	};
};

path	key17 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key17_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   =   '3'
			ORDER   BY        CAST(DENPNUM AS NUMERIC(7,0))
		;
	};
};

path	key18 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key18_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =    :HOSPNUM
			AND   NYUGAIKBN   =    :NYUGAIKBN
			AND   PTID        =    :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   SKYSTYMD    >=   :SKYSTYMD
			AND   SKYEDYMD    <=   :SKYEDYMD
			AND   HKNCOMBINUM =    :HKNCOMBINUM
			AND   CREATEKBN   <>   '3'
		;
	};
};

path	key19 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key19_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   HKNCOMBINUM =    :HKNCOMBINUM
			AND   CREATEKBN   =   '3'
			ORDER   BY          DENPNUM
		;
	};
};

path	all 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_all_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
 		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
		;
	};
};

path	del2 	{
	DBDELETE	{
		DELETE
		FROM tbl_syunou_main
			WHERE   HOSPNUM       =   :HOSPNUM
			AND     NYUGAIKBN    =   :NYUGAIKBN
			AND     CREATEKBN    =   :CREATEKBN
		;
	};
};

path	del3 	{
	DBDELETE	{
		DELETE
		FROM tbl_syunou_main
			WHERE   HOSPNUM       =   :HOSPNUM
			AND     NYUGAIKBN    =   :NYUGAIKBN
			AND     PTID         =   :PTID
			AND     CREATEKBN    =   :CREATEKBN
		;
	};
};

path	key20 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key20_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
            AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY            SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};


path	key21 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key21_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYKA       =   :SRYKA
			AND   SRYYMD      LIKE :SRYYMD
			AND   HKNCOMBINUM =    :HKNCOMBINUM
			AND   CREATEKBN   <>  '3'
			ORDER   BY        DENPNUM
		;
	};
};

path	key22 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key22_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
                        AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
            AND   SKYMONEY    >  NYUKIN_TOTAL
			ORDER   BY            DENPNUM
		;
	};
};

path	key23 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key23_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
                        AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
            AND   SKYMONEY    >  NYUKIN_TOTAL
			ORDER   BY            DENPNUM DESC
		;
	};
};


path	key24 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key24_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
            AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY            DENPPRTYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key25 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key25_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
                        AND ((KOH1HKNNUM  =   :KOH1HKNNUM)
                         OR  (KOH2HKNNUM  =   :KOH2HKNNUM)
                         OR  (KOH3HKNNUM  =   :KOH3HKNNUM)
                         OR  (KOH4HKNNUM  =   :KOH4HKNNUM))
		;
	};
};

path	key26 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key26_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    GRP_DENPNUM,
                                      GRP_RENNUM,
                                      FUKU_DENPNUM,
                                      DOUJI_DENPNUM,
                                      DENPNUM
		;
	};
};

path	key27 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key27_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   GRP_DENPNUM =   :GRP_DENPNUM
			ORDER   BY    GRP_RENNUM
		;
	};
};

path	key28 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key28_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			ORDER   BY    DENPNUM
		;
	};
};

path	key29 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key29_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY          NYUGAIKBN,DENPNUM
		;
	};
};

path	key30 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key30_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    NYUGAIKBN,
                                      GRP_DENPNUM,
                                      GRP_RENNUM,
                                      FUKU_DENPNUM,
                                      DOUJI_DENPNUM,
                                      DENPNUM
		;
	};
};

path	key31 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key31_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
		WHERE  HOSPNUM      = :HOSPNUM
		AND    PTID        = :PTID
		AND    CREATEKBN   <> '3'
		AND    SRYYMD      >= :SKYSTYMD
		AND    SRYYMD      <= :SKYEDYMD
		ORDER   BY    SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};


path	key32 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key32_csr CURSOR FOR
		SELECT distinct a.*
		FROM tbl_syunou_main a,tbl_syumei b
		WHERE  a.HOSPNUM      = :HOSPNUM
		AND    a.PTID        = :PTID
		AND    a.CREATEKBN   <> '3'
		AND    a.HOSPNUM      = b.HOSPNUM
		AND    a.NYUGAIKBN   = b.NYUGAIKBN
		AND    a.PTID        = b.PTID
		AND    a.DENPNUM     = b.DENPNUM
		AND    b.NYUHEN_YMD  >= :SKYSTYMD
		AND    b.NYUHEN_YMD  <= :SKYEDYMD
		ORDER  BY    a.SRYYMD,a.NYUGAIKBN,a.DENPNUM
		;
	};
};

path	key33 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key33_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   =   '3'
                        AND ((KOH1HKNNUM  =   :KOH1HKNNUM)
                         OR  (KOH2HKNNUM  =   :KOH2HKNNUM)
                         OR  (KOH3HKNNUM  =   :KOH3HKNNUM)
                         OR  (KOH4HKNNUM  =   :KOH4HKNNUM))
		;
	};
};

path	key34 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key34_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a,tbl_ptinf b
			WHERE a.HOSPNUM      =   :HOSPNUM
			AND   a.NYUGAIKBN   =   :NYUGAIKBN
			AND   a.SRYYMD      >=  :SKYSTYMD
			AND   a.SRYYMD      <=  :SKYEDYMD
			AND   a.DENPJTIKBN  <>  '3'
			AND   a.CREATEKBN   <>  '3'
			AND   a.CHOSEI      <>  0
			AND   a.HOSPNUM    =   b.HOSPNUM
			AND   a.PTID      =   b.PTID
			AND   b.TSTPTNUMKBN   <> '1'
		;
	};
};

path	key35 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key35_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY          DENPNUM
		;
	};
};

#sitekey
path	st_key1 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_st_key1_csr CURSOR FOR
		SELECT a.* FROM tbl_syunou_main a,tbl_ptinf b
		WHERE    a.HOSPNUM  =   :HOSPNUM 
		AND   a.CREATEKBN  <> '3' 
		AND   a.DENPJTIKBN <> '3'
		AND   a.NYUGAIKBN  LIKE  :NYUGAIKBN
		AND   (a.SRYYMD    >= :SRYYMD
		AND    a.SRYYMD    <= :UPSRYYMD)
		AND   a.HOSPNUM  =  b.HOSPNUM
		AND   a.PTID    =  b.PTID
		AND   b.TSTPTNUMKBN <> '1'
	};
};

#PTIDのみ取得
path	key36 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key36_csr CURSOR FOR
		SELECT a.PTID
		FROM tbl_syunou_main a join tbl_ptinf b using (HOSPNUM,ptid)
			WHERE   A.HOSPNUM    =   :HOSPNUM
			AND   a.NYUGAIKBN   =   :NYUGAIKBN
			AND   a.SRYYMD      LIKE :SRYYMD
			AND   a.CREATEKBN   <>  '3'
			AND   a.DENPJTIKBN  <> '3'
			AND   b.TSTPTNUMKBN <> '1'
			GROUP BY a.PTID
		;
	};
};

path	key37 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key37_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   DENPJTIKBN  <> '3'
			ORDER  BY  SRYKA,HKNCOMBINUM
		;
	};
};

path	key38 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key38_csr CURSOR FOR
		SELECT SUM(SKYMONEY) AS SKYMONEY,
		       SUM(NYUKIN_TOTAL) AS NYUKIN_TOTAL
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      <   :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   DENPJTIKBN  <> '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    <>  NYUKIN_TOTAL
		;
	};
};

path	key39 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key39_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   =   '3'
			ORDER   BY          DENPNUM DESC
		;
	};
};

path	del4 	{
	DBDELETE	{
		DELETE
		FROM tbl_syunou_main
			WHERE   HOSPNUM       =   :HOSPNUM
			AND     NYUGAIKBN    =   :NYUGAIKBN
			AND     PTID         =   :PTID
			AND     SRYYMD      LIKE :SRYYMD
			AND     CREATEKBN    =   :CREATEKBN
		;
	};
};

path	del5 	{
	DBDELETE	{
		DELETE
		FROM tbl_syunou_main
			WHERE   HOSPNUM       =   :HOSPNUM
			AND     NYUGAIKBN    =   '1'
			AND     DENPNUM      >=   9000000
			AND     DENPNUM      <    9100000
			AND     CREATEKBN    =   '3'
		;
	};
};

path	key40 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key40_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYYMD     LIKE :SRYYMD
			AND   CREATEKBN   =   '3'
			ORDER   BY          DENPNUM
		;
	};
};

path	key41 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key41_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD     LIKE :SRYYMD
			AND   HKNCOMBINUM =   :HKNCOMBINUM
			AND   CREATEKBN   <>  '3'
			ORDER   BY          DENPNUM
		;
	};
};

path	key42 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key42_csr CURSOR FOR
		SELECT SUM(SKYMONEY) AS SKYMONEY,
		       SUM(NYUKIN_TOTAL) AS NYUKIN_TOTAL
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    <>  NYUKIN_TOTAL
		;
	};
};

path	key43 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key43_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE HOSPNUM      =    :HOSPNUM
			AND   NYUGAIKBN   LIKE :NYUGAIKBN
			AND   DENPPRTYMD  =    :DENPPRTYMD
			AND   CREATEKBN   <>   '3'
			AND   DENPJTIKBN  <>   '3'
		;
	};
};

path	key44 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key44_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE HOSPNUM      =   :HOSPNUM
			AND   NYUGAIKBN   LIKE :NYUGAIKBN
			AND   SRYYMD      =   :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   DENPJTIKBN  <>  '3'
		;
	};
};

path	key45 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key45_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a join tbl_syunou_nyuin b using (HOSPNUM,NYUGAIKBN,PTID,DENPNUM)
			WHERE   a.HOSPNUM     =   :HOSPNUM
			AND   a.NYUGAIKBN    =   :NYUGAIKBN
			AND   a.PTID         =   :PTID
			AND   b.NYUIN_RRKNUM =   :SELNYUIN_RRKNUM
			AND   a.CREATEKBN   <>  '3'
		;
	};
};


path	key46 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key46_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM     =   :HOSPNUM
			AND   NYUGAIKBN    =   :NYUGAIKBN
			AND   SRYYMD       =   :SRYYMD
			AND   CREATEKBN   <>  '3'
		;
	};
};


path	key47 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key47_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM     =   :HOSPNUM
			AND   NYUGAIKBN    =   :NYUGAIKBN
			AND   DENPPRTYMD   =   :DENPPRTYMD
			AND   CREATEKBN   <>  '3'
		;
	};
};

path	key48 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key48_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM     =   :HOSPNUM
			AND   NYUGAIKBN LIKE   :NYUGAIKBN
			AND   SRYYMD    LIKE   :SRYYMD
			AND   CREATEKBN   <>  '3'
		;
	};
};

path	key49 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key49_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
		WHERE  HOSPNUM      = :HOSPNUM
		AND    NYUGAIKBN LIKE :NYUGAIKBN
		AND    PTID        = :PTID
		AND    CREATEKBN   <> '3'
		AND    SRYYMD      >= :SKYSTYMD
		AND    SRYYMD      <= :SKYEDYMD
		ORDER   BY    SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};


path	key50 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key50_csr CURSOR FOR
		SELECT distinct a.*
		FROM tbl_syunou_main a,tbl_syumei b
		WHERE  a.HOSPNUM      = :HOSPNUM
		AND    a.NYUGAIKBN   LIKE :NYUGAIKBN
		AND    a.PTID        = :PTID
		AND    a.CREATEKBN   <> '3'
		AND    a.HOSPNUM      = b.HOSPNUM
		AND    a.NYUGAIKBN   = b.NYUGAIKBN
		AND    a.PTID        = b.PTID
		AND    a.DENPNUM     = b.DENPNUM
		AND    b.NYUHEN_YMD  >= :SKYSTYMD
		AND    b.NYUHEN_YMD  <= :SKYEDYMD
		ORDER  BY    a.SRYYMD,a.NYUGAIKBN,a.DENPNUM
		;
	};
};


path	key51 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key51_csr CURSOR FOR
		SELECT distinct a.*
		FROM tbl_syunou_main a,tbl_syumei b
		WHERE  a.HOSPNUM      = :HOSPNUM
		AND    a.PTID        = :PTID
		AND    a.CREATEKBN   <> '3'
		AND    a.HOSPNUM      = b.HOSPNUM
		AND    a.NYUGAIKBN   = b.NYUGAIKBN
		AND    a.PTID        = b.PTID
		AND    a.DENPNUM     = b.DENPNUM
		AND    b.NYUHEN_YMD  = :SRYYMD
		AND    b.NYUHEN_MONEY <> 0
		ORDER   BY            DENPPRTYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key52 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key52_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main a join tbl_ptinf b using (HOSPNUM,ptid)
			WHERE   A.HOSPNUM    =    :HOSPNUM
			AND   a.NYUGAIKBN   LIKE :NYUGAIKBN
			AND   a.SRYYMD      LIKE :SRYYMD
			AND   a.CREATEKBN   <>  '3'
			AND   b.TSTPTNUMKBN <>  '1'
		;
	};
};

path	key53 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key53_csr CURSOR FOR
		SELECT SUM(SKYMONEY) AS SKYMONEY,
		       SUM(NYUKIN_TOTAL) AS NYUKIN_TOTAL
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY     >  NYUKIN_TOTAL
		;
	};
};

path	key54 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key54_csr CURSOR FOR
		SELECT SUM(SKYMONEY) AS SKYMONEY,
		       SUM(NYUKIN_TOTAL) AS NYUKIN_TOTAL
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    <   NYUKIN_TOTAL
		;
	};
};


path	key55 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key55_csr CURSOR FOR
		SELECT SUM(SKYMONEY) AS SKYMONEY,
		       SUM(NYUKIN_TOTAL) AS NYUKIN_TOTAL
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      <   :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   DENPJTIKBN  <>  '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    >   NYUKIN_TOTAL
		;
	};
};

path	key56 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key56_csr CURSOR FOR
		SELECT SUM(SKYMONEY) AS SKYMONEY,
		       SUM(NYUKIN_TOTAL) AS NYUKIN_TOTAL
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      <   :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   DENPJTIKBN  <>  '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    <   NYUKIN_TOTAL
		;
	};
};

path	key57 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key57_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a join tbl_syunou_nyuin b using (HOSPNUM,NYUGAIKBN,PTID,DENPNUM)
			WHERE   a.HOSPNUM       =   :HOSPNUM
			AND     a.NYUGAIKBN    =   :NYUGAIKBN
			AND     a.PTID         =   :PTID
			AND     a.CREATEKBN    =   :CREATEKBN
			AND     a.DENPJTIKBN  <>  '3'
			AND     b.NYUIN_RRKNUM =   :SELNYUIN_RRKNUM
			ORDER   BY a.DENPNUM
		;
	};
};

path	key58 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key58_csr CURSOR FOR
		SELECT distinct a.*
		FROM tbl_syunou_main a,tbl_syumei b
		WHERE  a.HOSPNUM      = :HOSPNUM
		AND    a.PTID        = :PTID
		AND    a.CREATEKBN   <> '3'
		AND    a.HOSPNUM      = b.HOSPNUM
		AND    a.NYUGAIKBN   = b.NYUGAIKBN
		AND    a.PTID        = b.PTID
		AND    a.DENPNUM     = b.DENPNUM
		AND    b.NYUHEN_YMD  LIKE :SRYYMD
		AND    b.NYUHEN_MONEY <> 0
		ORDER   BY            DENPPRTYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key59 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key59_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
		WHERE   HOSPNUM      =   :HOSPNUM
		AND     PTID        = :PTID
		AND     SRYYMD      LIKE :SRYYMD
		AND     CREATEKBN   <>  '3'
		ORDER   BY	SRYYMD DESC,NYUGAIKBN,DENPNUM DESC
		;
	};
};

path	key60 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key60_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
		WHERE   HOSPNUM     =   :HOSPNUM
		AND     NYUGAIKBN   =   '1'
		AND     PTID        =   :PTID
		AND     SRYYMD      LIKE :SRYYMD
		AND     DENPJTIKBN  <>  '3'
		AND     CREATEKBN   =   '2'
		;
	};
};

path	key61 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key61_csr CURSOR FOR
		SELECT  HOSPNUM,NYUGAIKBN,PTID,SUM(SKYMONEY) as SKYMONEY
		FROM tbl_syunou_main
		WHERE   HOSPNUM     =   :HOSPNUM
		AND     NYUGAIKBN   LIKE   :NYUGAIKBN
		AND     PTID        =   :PTID
		AND     SRYYMD      LIKE :SRYYMD
		AND     CREATEKBN   <>  '3'
		GROUP BY  HOSPNUM,NYUGAIKBN,PTID
		ORDER BY  NYUGAIKBN
		;
	};
};

path	key62 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key62_csr CURSOR FOR
		SELECT  *
		FROM tbl_syunou_main
		WHERE   HOSPNUM     =   :HOSPNUM
		AND     NYUGAIKBN   LIKE   :NYUGAIKBN
		AND     PTID        =   :PTID
		AND     SRYYMD      >   :SRYYMD
		ORDER BY  SRYYMD
                LIMIT 1
		;
	};
};

path	key63 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key63_csr CURSOR FOR
		SELECT  *
		FROM tbl_syunou_main
		WHERE   HOSPNUM     =   :HOSPNUM
		AND     NYUGAIKBN   LIKE   :NYUGAIKBN
		AND     PTID        =   :PTID
		AND     SRYYMD      <   :SRYYMD
		ORDER BY  SRYYMD DESC
                LIMIT 1
		;
	};
};

path	key64 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key64_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    substr(SRYYMD,1,6),NYUGAIKBN,DENPNUM
		;
	};
};

path	key65 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key65_csr CURSOR FOR
		SELECT distinct a.*
		FROM tbl_syunou_main a,tbl_syumei b
		WHERE  a.HOSPNUM      = :HOSPNUM
		AND    a.NYUGAIKBN   LIKE :NYUGAIKBN
		AND    a.PTID        = :PTID
		AND    a.CREATEKBN   <> '3'
		AND    a.HOSPNUM      = b.HOSPNUM
		AND    a.NYUGAIKBN   = b.NYUGAIKBN
		AND    a.PTID        = b.PTID
		AND    a.DENPNUM     = b.DENPNUM
		AND ((   b.NYUHEN_YMD  >= :SKYSTYMD
		    AND  b.NYUHEN_YMD  <= :SKYEDYMD )
		  OR (   a.SRYYMD      >= :SKYSTYMD
		    AND  a.SRYYMD      <= :SKYEDYMD ))
		ORDER  BY    a.SRYYMD,a.NYUGAIKBN,a.DENPNUM
		;
	};
};

path	key66 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key66_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
            AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY            SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key67 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key67_csr CURSOR FOR
		SELECT distinct a.*
		FROM tbl_syunou_main a,tbl_syumei b
		WHERE  a.HOSPNUM      = :HOSPNUM
		AND    a.PTID        = :PTID
		AND    a.CREATEKBN   <> '3'
		AND    a.HOSPNUM      = b.HOSPNUM
		AND    a.NYUGAIKBN   = b.NYUGAIKBN
		AND    a.PTID        = b.PTID
		AND    a.DENPNUM     = b.DENPNUM
		AND    b.NYUHEN_YMD  LIKE :SRYYMD
		AND    b.NYUHEN_MONEY <> 0
		ORDER   BY            SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key68 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key68_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    SRYYMD,NYUGAIKBN,SRYKA,HKNCOMBINUM,DENPNUM
		;
	};
};

path	key69 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key69_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    SRYYMD,DENPNUM
		;
	};
};

path	key70 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key70_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a , tbl_hkncombi b
		WHERE a.HOSPNUM    =   :HOSPNUM
		AND   a.PTID        =   :PTID
		AND   a.HOSPNUM     =   b.HOSPNUM
		AND   a.PTID        =   b.PTID
		AND   CAST(a.HKNCOMBINUM AS NUMERIC(4,0)) = b.HKNCOMBINUM
		AND   a.SRYYMD      LIKE :SRYYMD
		AND   a.CREATEKBN   <>  '3'
		AND   a.DENPJTIKBN  <>  '3'
		AND ( b.KOH1ID      =  :SELKOHID
		   OR b.KOH2ID      =  :SELKOHID
		   OR b.KOH3ID      =  :SELKOHID
		   OR b.KOH4ID      =  :SELKOHID )
		ORDER   BY          SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key71 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key71_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a join tbl_syunou_nyuin b using (HOSPNUM,NYUGAIKBN,PTID,DENPNUM)
			WHERE   a.HOSPNUM       =  :HOSPNUM
			AND     a.NYUGAIKBN    =   :NYUGAIKBN
			AND     a.PTID         =   :PTID
			AND     a.DENPNUM      <>  :DENPNUM
			AND     a.CREATEKBN    =   :CREATEKBN
			AND     a.DENPJTIKBN  <>  '3'
			AND     b.NYUIN_RRKNUM =   :SELNYUIN_RRKNUM
			ORDER   BY a.DENPNUM
		;
	};
};

path	upd1 	{
	DBUPDATE	{
		UPDATE	tbl_syunou_main
                SET	NYUGAIKBN	=    :NYUGAIKBN
		WHERE   HOSPNUM         =    :HOSPNUM
		AND     NYUGAIKBN       =    :SELNYUGAIKBN
		AND     PTID            =    :PTID
		AND     CREATEKBN       =    :CREATEKBN
		AND     SRYYMD		LIKE :SRYYMD
		;
	};
};

path	del6 	{
	DBDELETE	{
		DELETE	FROM tbl_syunou_main
		WHERE   HOSPNUM         =    :HOSPNUM
		AND     NYUGAIKBN       =    :NYUGAIKBN
		AND     PTID            =    :PTID
		AND     CREATEKBN       <>   '3'
		AND     DENPNUM		>=   :DENPNUM
		;
	};
};

path	key72 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key72_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a,tbl_ptinf b
			WHERE a.HOSPNUM     =   :HOSPNUM
			AND   a.NYUGAIKBN   =   :NYUGAIKBN
			AND   a.SRYYMD      >=  :SKYSTYMD
			AND   a.SRYYMD      <=  :SKYEDYMD
			AND   a.DENPJTIKBN  <>  '3'
			AND   a.CREATEKBN   <>  '3'
			AND ( a.CHOSEI1     <>  0
			   OR a.CHOSEI2     <>  0 )
			AND   a.HOSPNUM    =   b.HOSPNUM
			AND   a.PTID      =   b.PTID
			AND   b.TSTPTNUMKBN   <> '1'
		;
	};
};

path	key73 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key73_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   DENPJTIKBN  <> '3'
			ORDER  BY  SRYYMD,SRYKA,HKNCOMBINUM,DENPNUM
		;
	};
};

path	key74 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key74_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   GRP_DENPNUM =   :GRP_DENPNUM
			ORDER   BY    GRP_RENNUM
		;
	};
};

path	upd2 	{
	DBUPDATE	{
		UPDATE	tbl_syunou_main
                SET	BUNBENINFFLG	=    :BUNBENINFFLG,
			UPYMD           =    :UPYMD,  
			UPHMS           =    :UPHMS
		WHERE   HOSPNUM         =    :HOSPNUM
		AND     NYUGAIKBN       =    :NYUGAIKBN
		AND     PTID            =    :PTID
		AND     DENPNUM         =    :DENPNUM
		;
	};
};

path	upd3 	{
	DBUPDATE	{
		UPDATE	tbl_syunou_main
                SET	NYUGAIKBN	=    :NYUGAIKBN
		WHERE   HOSPNUM         =    :HOSPNUM
		AND     NYUGAIKBN       =    :SELNYUGAIKBN
		AND     PTID            =    :PTID
		AND     DENPNUM         =    :DENPNUM
		;
	};
};


path	abort 	{
	DBSELECT	{
		error	
		;
	};
};

path	key75 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key75_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    PTID,HKNCOMBINUM
		;
	};
};

path	key76 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key76_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYYMD     LIKE :SRYYMD
			AND   CREATEKBN   =   '3'
			ORDER   BY    PTID,HKNCOMBINUM
		;
	};
};

path	key77 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key77_csr CURSOR FOR
		SELECT HOSPNUM,NYUGAIKBN,PTID,HKNCOMBINUM,SYUHKNNUM,CREATEKBN,SUM(TOTAL_HKNTEN) AS TOTAL_HKNTEN
		FROM tbl_syunou_main
			WHERE HOSPNUM     =       :HOSPNUM
			AND   NYUGAIKBN   LIKE    :NYUGAIKBN
			AND   CREATEKBN   LIKE    :CREATEKBN
			AND   SRYKA       LIKE    :SRYKA
			AND   SRYYMD      LIKE    :SRYYMD
			AND   SYUHKNNUM   LIKE    :SYUHKNNUM
			GROUP  BY  HOSPNUM,NYUGAIKBN,PTID,HKNCOMBINUM,SYUHKNNUM,CREATEKBN
			HAVING  SUM(TOTAL_HKNTEN) >= :TOTAL_HKNTEN
		;
	};
};


path	key78 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key78_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   LIKE :NYUGAIKBN
			AND   CREATEKBN   <>  '3'
			AND   SRYYMD      < :SRYYMD
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY            SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key79 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key79_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a,tbl_ptinf b
			WHERE   a.HOSPNUM      =   :HOSPNUM
			AND     a.NYUGAIKBN    =   :NYUGAIKBN
			AND     a.SKYSTYMD    >=   :SKYSTYMD
			AND     a.SKYEDYMD    <=   :SKYEDYMD
			AND     a.DENPJTIKBN  <>   '3'
			AND     a.CREATEKBN   <>   '3'
			AND     a.HOSPNUM     =   b.HOSPNUM
			AND     a.PTID        =   b.PTID
			ORDER   BY  b.KANANAME
		;
	};
};

path	key80 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key80_csr CURSOR FOR
		SELECT a.*,c.PTNUM
		FROM tbl_syunou_main a,tbl_ptinf b,tbl_ptnum c
			WHERE   a.HOSPNUM      =   :HOSPNUM
			AND     a.NYUGAIKBN    =   :NYUGAIKBN
			AND     a.SKYSTYMD>=  :SKYSTYMD
			AND     a.SKYEDYMD<=  :SKYEDYMD
			AND     a.DENPJTIKBN<>   '3'
			AND     a.CREATEKBN<>   '3'
			AND     a.HOSPNUM    =   b.HOSPNUM
			AND     a.PTID       =   b.PTID
			AND     c.HOSPNUM    =   b.HOSPNUM
			AND     c.PTID       =   b.PTID
		ORDER   BY  c.PTNUM
		;
	};
};

path key81  {
	DBSELECT {
		DECLARE tbl_syunou_main_key81_csr CURSOR FOR
		SELECT a.*
		FROM tbl_syunou_main a,tbl_ptinf b
			WHERE a.HOSPNUM       =     :HOSPNUM
			AND   a.NYUGAIKBN     LIKE  :NYUGAIKBN
			AND   a.SRYYMD        <=    :SRYYMD
			AND   a.SRYKA         LIKE  :SRYKA
			AND   a.DENPJTIKBN    <>     '3'
			AND   a.CREATEKBN     <>     '3'
			AND   a.NYUKIN_TOTAL  <      a.SKYMONEY
			AND   a.SKYNYUKINKBN =  '1'
			AND   a.HOSPNUM       =      b.HOSPNUM
			AND   a.PTID          =      b.PTID
			AND   b.TSTPTNUMKBN   <>     '1'
		 ;
	};
};

path	key82 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key82_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    SAIKEISANKBN,DENPNUM
		;
	};
};

path	key83 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key83_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    SAIKEISANKBN,SRYYMD,DENPNUM
		;
	};
};

path	key84 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key84_csr CURSOR FOR
		SELECT DISTINCT ON (PTID) * 
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   SECMONEY BETWEEN 1 AND 8
			AND   SECMONEY IN (1,2,3,4,5,6,7,8)
			ORDER   BY    PTID
		;
	};
};

path	key85 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key85_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};

# "between" makes using index more efectively
path	key86 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key86_csr CURSOR FOR
		SELECT * 
		FROM tbl_syunou_main
			WHERE HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   SECMONEY BETWEEN 1 AND 8
			AND   SECMONEY IN (1,2,3,4,5,6,7,8)
            LIMIT 1
		;
	};
};

path	key87 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key87_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
            AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY            SRYYMD DESC,NYUGAIKBN,DENPNUM
		;
	};
};

path	key88 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key88_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   KOH1HKNNUM  <>  '970'
			ORDER   BY    SAIKEISANKBN,DENPNUM
		;
	};
};

path	key89 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key89_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   KOH1HKNNUM  <>  '970'
			ORDER   BY    SAIKEISANKBN,SRYYMD,DENPNUM
		;
	};
};

path	key90 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key90_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   KOH1HKNNUM  =   '970'
			ORDER   BY    DENPNUM
		;
	};
};

path	key91 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key91_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN   =   :NYUGAIKBN
			AND   PTID        =   :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   KOH1HKNNUM  =   '970'
			ORDER   BY    SRYYMD,DENPNUM
		;
	};
};

path	key92 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key92_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE HOSPNUM     =    :HOSPNUM
			AND   PTID        =    :PTID
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>    '3'
			AND   DENPJTIKBN  <>    '3'
			AND ((KOH1HKNNUM  =    :KOH1HKNNUM)
			 OR  (KOH2HKNNUM  =    :KOH2HKNNUM)
			 OR  (KOH3HKNNUM  =    :KOH3HKNNUM)
			 OR  (KOH4HKNNUM  =    :KOH4HKNNUM))
		ORDER   BY          SRYYMD,NYUGAIKBN,DENPNUM
		;
	};
};

path	key93 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key93_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   :NYUGAIKBN   IN  ('0', NYUGAIKBN)
			AND   PTID        =   :PTID
			AND   CASE WHEN TRIM(:SKYSTYMD) <> ''
                  THEN 
                    SRYYMD BETWEEN :SKYSTYMD AND :SKYEDYMD
                  ELSE
                    TRUE 
                  END 
			AND   :SRYKA      IN  ('00', SRYKA)
			AND   CREATEKBN   <>  '3'
			AND   SKYNYUKINKBN =  '1'
			AND   SKYMONEY    <>  NYUKIN_TOTAL
			ORDER   BY 
			   CASE WHEN :SELNYUGAIKBN = '0' THEN DENPPRTYMD       ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN = '1' THEN DENPPRTYMD       ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN = '2' THEN SRYYMD           ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN = '3' THEN SRYYMD           ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN IN ('0','2') THEN NYUGAIKBN ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN IN ('1','3') THEN NYUGAIKBN ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN IN ('0','2') THEN DENPNUM   ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN IN ('1','3') THEN DENPNUM   ELSE NULL END DESC
		LIMIT
		    CASE  WHEN :UPSRYYMD = 'ALL' THEN :CHOSEI1 ELSE NULL END
		OFFSET
		    CASE  WHEN :UPSRYYMD = 'ALL' THEN :CHOSEI2 ELSE 0    END
		;
	};
};

path	key94 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key94_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
		WHERE  HOSPNUM       = :HOSPNUM
		AND   :NYUGAIKBN   IN  ('0', NYUGAIKBN)
		AND    PTID        = :PTID
		AND   :SRYKA      IN  ('00', SRYKA)
		AND    CREATEKBN   <> '3'
		AND    (HOSPNUM,NYUGAIKBN,PTID,DENPNUM) IN
		 ( SELECT HOSPNUM, NYUGAIKBN, PTID, DENPNUM
		   FROM   tbl_syumei
			 WHERE  HOSPNUM    = :HOSPNUM
			 AND   :NYUGAIKBN   IN  ('0', NYUGAIKBN)
			 AND    PTID       = :PTID
			 AND    NYUHEN_YMD  LIKE :SRYYMD
			 AND    CASE WHEN TRIM(:SKYSTYMD) <> ''
                    THEN 
                      NYUHEN_YMD BETWEEN :SKYSTYMD AND :SKYEDYMD
                    ELSE
                      TRUE 
                    END 
			 AND    NYUHEN_MONEY <> 0 )
			ORDER   BY 
			   CASE WHEN :SELNYUGAIKBN = '0' THEN DENPPRTYMD       ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN = '1' THEN DENPPRTYMD       ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN = '2' THEN SRYYMD           ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN = '3' THEN SRYYMD           ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN IN ('0','2') THEN NYUGAIKBN ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN IN ('1','3') THEN NYUGAIKBN ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN IN ('0','2') THEN DENPNUM   ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN IN ('1','3') THEN DENPNUM   ELSE NULL END DESC
		LIMIT
		    CASE  WHEN :UPSRYYMD = 'ALL' THEN :CHOSEI1 ELSE NULL END
		OFFSET
		    CASE  WHEN :UPSRYYMD = 'ALL' THEN :CHOSEI2 ELSE 0    END
		;
	};
};

path	key95 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key95_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   :NYUGAIKBN   IN  ('0', NYUGAIKBN)
			AND   PTID        =   :PTID
			AND   CASE WHEN TRIM(:SKYSTYMD) <> ''
                  THEN 
                    SRYYMD BETWEEN :SKYSTYMD AND :SKYEDYMD
                  ELSE
                    TRUE 
                  END 
			AND   SRYYMD      LIKE :SRYYMD
			AND   :SRYKA      IN  ('00', SRYKA)
			AND   CREATEKBN   <>  '3'
			ORDER   BY 
			   CASE WHEN :SELNYUGAIKBN = '0' THEN substr(SRYYMD,1,6) ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN = '1' THEN substr(SRYYMD,1,6) ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN = '2' THEN SRYYMD             ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN = '3' THEN SRYYMD             ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN IN ('0','2') THEN NYUGAIKBN   ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN IN ('1','3') THEN NYUGAIKBN   ELSE NULL END DESC
			  ,CASE WHEN :SELNYUGAIKBN IN ('0','2') THEN DENPNUM     ELSE NULL END ASC
			  ,CASE WHEN :SELNYUGAIKBN IN ('1','3') THEN DENPNUM     ELSE NULL END DESC
		LIMIT
		    CASE  WHEN :UPSRYYMD = 'ALL' THEN :CHOSEI1 ELSE NULL END
		OFFSET
		    CASE  WHEN :UPSRYYMD = 'ALL' THEN :CHOSEI2 ELSE 0    END
		;
	};
};

path	key96 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key96_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN    =   :NYUGAIKBN
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			ORDER   BY    PTID,DENPNUM
		;
	};
};
# "between" makes using index more efectively
path	key97 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key97_csr CURSOR FOR
		SELECT *
		FROM tbl_syunou_main
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   NYUGAIKBN    =   :NYUGAIKBN
			AND   SRYYMD      LIKE :SRYYMD
			AND   CREATEKBN   <>  '3'
			AND   SECMONEY BETWEEN 1 AND 8
			AND   SECMONEY IN (1,2,3,4,5,6,7,8)
			ORDER   BY    PTID,DENPNUM
		;
	};
};
path	key98 	{
	DBSELECT	{
		DECLARE tbl_syunou_main_key98_csr CURSOR FOR
        SELECT NYUGAIKBN,SUM(CASE WHEN SKYMONEY > NYUKIN_TOTAL  THEN SKYMONEY     - NYUKIN_TOTAL ELSE 0 END) AS CHOSEI1,
                         SUM(CASE WHEN SKYMONEY < NYUKIN_TOTAL  THEN NYUKIN_TOTAL - SKYMONEY     ELSE 0 END) AS CHOSEI2
        FROM tbl_syunou_main
        WHERE   HOSPNUM     =  :HOSPNUM
          AND   PTID        =  :PTID
          AND   CREATEKBN   <>  '3'
          AND   SRYYMD      >= :SKYSTYMD
          AND   SRYYMD      <= :SKYEDYMD
          AND   SKYNYUKINKBN =  '1'
        GROUP BY NYUGAIKBN
		;
	};
};

