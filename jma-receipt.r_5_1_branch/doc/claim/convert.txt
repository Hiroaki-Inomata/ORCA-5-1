This Text Character is EUC-JP Code.

CLAIM通信スクリプト version2.0 設定ファイルコンバート関連 ドキュメント
                                             日医標準レセプトソフト開発チーム



-----------------------------------------------------------------------------
概要

CLAIM通信スクリプトでは、設定ファイルを参照し、それに基づいてXMLからシーケンシャルファイルに変換するのだが、version1.0の設定ファイルはメンテナンス性が悪く、設定の変更が困難であった。
そこで、CLAIM通信スクリプト version2.0では、設定ファイルのフォーマットを変更した。
その際に、比較的いじやすいフォーマットの設定ソースファイルと、実行時にスクリプトが解釈しやすい実行時設定ファイルを分けた。
これにより、設定ソースファイルの可読性は向上している。
なお、設定ソースファイルは、コンバートスクリプトを経由して、実行時設定ファイルに変換する。



-----------------------------------------------------------------------------
コンバート方法

現在、受信処理本体はversion2.0のスクリプトとなっているが、送信処理本体はversion1.0のままである。
そのため、コンバートを行うスクリプトの位置が異なっているので、注意すること。


★XML受信用階層データファイルのコンバート
  下記シェルスクリプトを実行することでコンバートし、所定のファイルに書き込まれる。
  ----------------------------------------
  $ scripts/claim/soc/hircnv_rb.sh
  ----------------------------------------


★XML送信用def/templateファイルのコンバート
  下記シェルスクリプトを実行することでコンバートし、所定のファイルに書き込まれる。
  ・受付用def/templateファイル
  ----------------------------------------
  $ scripts/claim/soc/ver100/frontcnv_v100.sh
  ----------------------------------------
  ・会計用def/templateファイル
  ----------------------------------------
  $ scripts/claim/soc/ver100/accountcnv_v100.sh
  ----------------------------------------



-----------------------------------------------------------------------------
設定ソースファイル

設定ソースファイルは、以下の場所にある

★受信用階層データソースファイル
    scripts/claim/soc/def/orca_decode_soc.hir

★受付用def/templateファイル
  ・defファイル
    scripts/claim/soc/def/orca_layout_front_soc.def
  ・templateファイル
    scripts/claim/soc/template/orca_base_front_soc.xml

★会計用def/templateファイル
  ・defファイル
    scripts/claim/soc/def/orca_layout_accounting_soc.def
  ・templateファイル
    scripts/claim/soc/template/orca_base_accounting_soc.xml



-----------------------------------------------------------------------------
2004年1月 日医標準レセプトソフト開発チーム制作
