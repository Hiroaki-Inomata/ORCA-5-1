tbl_pthkninf {
	HOSPNUM				number(2,0);
	PTID				number(10);
	HKNID				number(10);
	HKNNUM				char(3);
	HKNJANUM			char(8);
	HIHKNJANAME			varchar(100);
	HONKZKKBN			char(1);
	HOJOKBN				char(1);
	CONTKBN				char(1);
	KIGO				varchar(80);
	NUM				varchar(80);
	EDABAN				varchar(02);
	SKKGETYMD			char(8);
	TEKSTYMD			char(8);
	TEKEDYMD			char(8);
	KAKUNINYMD			char(8);
	SAKJOKBN			char(1);
	TERMID   			varchar(16);
	OPID     			varchar(16);
	CREYMD   			char(8);
	UPYMD    			char(8);
	UPHMS				char(6);
};

primary	{
	HOSPNUM,PTID,HKNID;
};

path	key 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNID       =   :HKNID
		;
	};
};

path	key2 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key2_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			ORDER   BY      TEKEDYMD DESC,
		                	TEKSTYMD DESC,
                                        HKNID
		;
	};
};

path	key3 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key3_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNID       =   :HKNID
			AND   TEKSTYMD    <=  :TEKSTYMD
			AND   TEKEDYMD    >=  :TEKEDYMD
			ORDER   BY      TEKSTYMD
		;
	};
};

path	key4 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key4_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNNUM      =   :HKNNUM
			AND   TEKSTYMD    =   :TEKSTYMD
			AND   TEKEDYMD    =   :TEKEDYMD
			ORDER   BY      TEKSTYMD
		;
	};
};

path	key5 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key5_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   TEKSTYMD    <=  :TEKSTYMD
			AND   TEKEDYMD    >=  :TEKEDYMD
			ORDER   BY      PTID,
                                        HKNID
		;
	};
};

path	key6 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key6_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			ORDER   BY    HKNID
		;
	};
};

path	all 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_all_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
 		;
	};
};

path	del1 	{
	DBDELETE	{
		DELETE
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
		;
	};
};

path	key7 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key7_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE HOSPNUM     =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNJANUM    =  :HKNJANUM
			AND   SAKJOKBN    <> '1'
			ORDER   BY      HKNID
		;
	};
};

path	key8 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key8_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE   HOSPNUM    =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   TEKSTYMD    <=  :TEKSTYMD
			AND   TEKEDYMD    >=  :TEKEDYMD
			ORDER   BY      HKNNUM,
                                        TEKSTYMD
		;
	};
};

path	key9 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key9_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE HOSPNUM     =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNNUM      =   :HKNNUM
			AND   TEKSTYMD    <=  :TEKSTYMD
			AND   TEKEDYMD    >=  :TEKEDYMD
			AND   SAKJOKBN    <> '1'
			ORDER   BY      HKNID
		;
	};
};

path	key10 	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key10_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE HOSPNUM     =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNNUM      =   :HKNNUM
			ORDER   BY      HKNID
		;
	};
};

path	key11	{
	DBSELECT	{
		DECLARE tbl_pthkninf_key11_csr CURSOR FOR
		SELECT *
		FROM tbl_pthkninf
			WHERE HOSPNUM     =   :HOSPNUM
			AND   PTID        =   :PTID
			AND   HKNNUM      in  ('039','040')
			AND   TEKSTYMD    <=  :TEKSTYMD
			AND   TEKEDYMD    >=  :TEKEDYMD
			AND   SAKJOKBN    <> '1'
			ORDER   BY      HKNID
		;
	};
};

